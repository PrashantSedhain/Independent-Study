<mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>

<div class="row">
  <div class="col-sm-8">
    <div class="container">
      <div>
        <h2 class="header">
          How many people do you want to split the expense with?
        </h2>
        <form [formGroup]="countryForm">
          <mat-form-field>
            <mat-label>Please Select</mat-label>
            <mat-select formControlName="country" id="country">
              <mat-option *ngFor="let num of numbers" [value]="num">{{
                num
              }}</mat-option>
              <mat-option value="3">3</mat-option>
              <mat-option value="4">4</mat-option>
              <mat-option value="5">5</mat-option>
              <mat-option value="6">6</mat-option>
              <mat-option value="7">7</mat-option>
              <mat-option value="8">8</mat-option>
              <mat-option value="9">9</mat-option>
              <mat-option value="10">10</mat-option>
            </mat-select>
          </mat-form-field>
        </form>

        <h2 *ngIf="numberSelected" class="header">
          Please enter their information below:
        </h2>

        <div *ngFor="let item of list; let i = index">
          <mat-form-field appearance="outline">
            <input
              matInput
              placeholder="Full Name"
              required
              [(ngModel)]="nameArray[i]"
            />
          </mat-form-field>

          <mat-form-field appearance="outline" class="example-full-width">
            <mat-label>Email</mat-label>
            <input
              matInput
              [errorStateMatcher]="matcher"
              placeholder="Ex. pat@example.com"
              [(ngModel)]="emailArray[i]"
            />
            <mat-error
              *ngIf="
                emailFormControl.hasError('email') &&
                !emailFormControl.hasError('required')
              "
            >
              Please enter a valid email address
            </mat-error>
            <mat-error *ngIf="emailFormControl.hasError('required')">
              Email is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>

        <button
          (click)="addUser()"
          *ngIf="numberSelected"
          type="button"
          class="btn btn-light"
        >
          Continue
        </button>
        <button
          (click)="createGroup()"
          *ngIf="numberSelected"
          type="button"
          class="btn btn-light"
        >
          Create Group
        </button>
        <br />
        <br />
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="list-group">
      <a href="#" class="heading list-group-item list-group-item-action active">
        Select your group or create new
        <span class="badge badge-light">5</span>
      </a>
      <a
        class="list-group-item list-group-item-action"
        *ngFor="let group of ListOfGroups"
        id="{{ group._id }}"
        (click)="findGroupByID(group._id)"
        >{{ group.groupName }}</a
      >

      <br />
      <p class="textClass">
        Note: Selecting one of the groups above automatically takes you to the
        split page for splitting amongst the group members in that particular
        group.
      </p>
      <button type="button" class="btn btn-secondary glyphicon glyphicon-plus">
        Create New
      </button>
    </div>
  </div>
</div>
