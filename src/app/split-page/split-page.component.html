<div class="container">
  <h2 class="header">How many people do you want to split the expense with?</h2>
  <mat-form-field>
    <mat-label>Please Select</mat-label>
    <mat-select [(ngModel)]="selected" (ngModelChange)="createArray($event)">
      <mat-option value="2">2</mat-option>
      <mat-option value="3">3</mat-option>
      <mat-option value="4">4</mat-option>
      <mat-option value="5">5</mat-option>
      <mat-option value="6">6</mat-option>
      <mat-option value="7">7</mat-option>
      <mat-option value="8">8</mat-option>
      <mat-option value="9">9</mat-option>
      <mat-option value="10">10</mat-option>
    </mat-select>
  </mat-form-field>

  <h2 *ngIf="numberSelected" class="header">
    Please enter their information below:
  </h2>

  <div *ngFor="let item of list; let i = index">
    <mat-form-field appearance="outline">
      <input
        matInput
        placeholder="Full Name"
        required
        [(ngModel)]="nameArray[i]"
      />
    </mat-form-field>

    <mat-form-field appearance="outline" class="example-full-width">
      <mat-label>Email</mat-label>
      <input
        matInput
        [errorStateMatcher]="matcher"
        placeholder="Ex. pat@example.com"
        [(ngModel)]="emailArray[i]"
      />
      <mat-error
        *ngIf="
          emailFormControl.hasError('email') &&
          !emailFormControl.hasError('required')
        "
      >
        Please enter a valid email address
      </mat-error>
      <mat-error *ngIf="emailFormControl.hasError('required')">
        Email is <strong>required</strong>
      </mat-error>
    </mat-form-field>
  </div>

  <button
    (click)="addUser()"
    *ngIf="numberSelected"
    type="button"
    class="btn btn-light"
  >
    Next
  </button>
</div>
